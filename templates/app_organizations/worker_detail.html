{% extends 'base.html' %}

{% block title %}{{ object.name }} {{ object.second_name }} {{ object.last_name }}{% endblock %}

{% block content %}

<div class="card mt-2 col-11">
    <ul class="list-group list-group-horizontal">
        <li class="list-group-item">
            <a href="{% url 'worker_edit' object.id %}" class="btn btn-primary">Редактировать</a>
        </li>
    </ul>

    <div class="card-body">
        <h3>{{ object.name }} {{ object.second_name }} {{ object.last_name }}</h3>
    </div>
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button"
                    role="tab" aria-controls="home" aria-selected="true">Основная информация
            </button>
        </li>

        <li class="nav-item" role="presentation">
            <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button"
                    role="tab" aria-controls="profile" aria-selected="false">Паспортные данные
            </button>
        </li>

        <li class="nav-item" role="presentation">
            <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button"
                    role="tab" aria-controls="contact" aria-selected="false">Контактные данные
            </button>
        </li>
    </ul>
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <ul class="list-group list-group-flush">
                <li class="list-group-item">Пользователь: {{ object.user }}</li>
                <li class="list-group-item">Должность: {{ object.position }}</li>
                <li class="list-group-item">
                    Организация:
                    {% if object.organization %}
                    <a href="{% url 'organization_detail' object.organization.id %}" class="text-reset">
                        {{ object.organization.title }}
                    </a>
                    {% endif %}
                </li>
            </ul>
        </div>

        <div class="tab-pane fade show" id="profile" role="tabpanel" aria-labelledby="profile-tab">
            <ul class="list-group list-group-flush">
                <li class="list-group-item">Серийный номер: {{ object.serial_number }}</li>
                <li class="list-group-item">Номер: {{ object.number }}</li>
                <li class="list-group-item">Выдан: {{ object.issued_by }}</li>
                <li class="list-group-item">Дата выдачи: {{ object.date }}</li>
                <li class="list-group-item">Дата рождения: {{ object.date_of_birth }}</li>
                <li class="list-group-item">Код подразделения: {{ object.department_code }}</li>
            </ul>
        </div>

        <div class="tab-pane fade show" id="contact" role="tabpanel" aria-labelledby="contact-tab">
            <table class="table" id="contact-form-wrapper">
                <thead>
                <tr>
                    <th scope="col">Тип контакта</th>
                    <th scope="col">Данные</th>
                </tr>
                </thead>
                <tbody>
                {% for contact in worker_contacts %}
                <tr class="contact-form-container">
                    <td>{{ contact.type_of_contact }}</td>
                    <td>{{ contact.contact }}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

{% endblock %}