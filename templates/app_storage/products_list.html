{% extends 'base.html' %}

{% block title %}Список продукции{% endblock %}

{% block content %}
<form method="post">
    {% csrf_token %}
    <div class="d-flex flex-row col-10 justify-content-between mb-2 flex-wrap">
        <div class="d-flex flex-column col-2 mt-2">
            {{ filter.type_of_product.errors }}
            {{ filter.type_of_product.label }}
            {{ filter.type_of_product }}
        </div>

        <div class="d-flex flex-column col-2">
            {{ filter.model.errors }}
            {{ filter.model.label }}
            {{ filter.model }}
        </div>

        <div class="d-flex flex-column col-1">
            {{ filter.version.errors }}
            {{ filter.version.label }}
            {{ filter.version }}
        </div>

        <div class="d-flex flex-column col-2">
            {{ filter.size.errors }}
            {{ filter.size.label }}
            {{ filter.size }}
        </div>

        <div class="d-flex flex-column col-2">
            {{ filter.color.errors }}
            {{ filter.color.label }}
            {{ filter.color }}
        </div>

        <div class="d-flex flex-column col-2 mt-3">
            <button type="submit" class="btn btn-secondary">Отсортировать</button>
        </div>
    </div>
</form>

<h1>Продукция</h1>
<a href="{% url 'product_create' %}" class="btn btn-primary mb-3">Добавить продукцию</a>

{% if products_list %}
<div class="d-flex flex-wrap justify-content-start">
    {% for product in products_list %}
    <div class="card shadow bg-light bg-gradient col-3 ms-5 mb-4">
        {% if product.images %}
        <img src="{{ product.images.first.image.url }}" class="card-img-top" alt="">
        {% else %}
        <img src="" class="card-img-top" alt="">
        {% endif %}
        <div class="card-body">
            <h5 class="card-title">{{ product.number }}</h5>
            <p class="card-text">{{ product.description }}</p>
        </div>
        <ul class="list-group list-group-flush">
            <li class="list-group-item bg-light bg-gradient">Цена, руб.: {{ product.cost }}</li>
            <li class="list-group-item bg-light bg-gradient">Страна: {{ product.country }}</li>
        </ul>
        <div class="card-body">
            <a class="text-reset" href="{% url 'product_detail' product.id %}">Открыть</a>
            <a class="text-reset" href="{% url 'product_edit' product.id %}">Редактировать</a>
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}


{% endblock %}